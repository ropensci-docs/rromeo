<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How to set up and use an API key? • rOpenSci: rromeo</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- ropensci --><link href="../ropensci.css" rel="stylesheet">
<meta property="og:title" content="How to set up and use an API key?">
<meta property="og:description" content="rromeo">
<meta name="twitter:card" content="summary">
<!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
        <a class="navbar-brand" href="../index.html"><i>rromeo <small>v0.1.1.9000</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/rromeo.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/setting_up_api_key.html">How to set up and use an API key?</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ropensci/rromeo/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right docsearch" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>How to set up and use an API key?</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/rromeo/blob/master/vignettes/setting_up_api_key.Rmd"><code>vignettes/setting_up_api_key.Rmd</code></a></small>
      <div class="hidden name"><code>setting_up_api_key.Rmd</code></div>

    </div>

    
    
<div id="what-is-an-api-key" class="section level2">
<h2 class="hasAnchor">
<a href="#what-is-an-api-key" class="anchor"></a>What is an API key?</h2>
<p>Like many other R packages that are API clients, <code>rromeo</code> lets you set up and use an API key. An API key is a string that you communicate to the server (see <a href="https://en.wikipedia.org/wiki/Application_programming_interface_key">Wikipedia Page</a>). The key is used by the server to identify you. This helps the server to manage your access, for example, giving access to specific services.</p>
</div>
<div id="why-use-one" class="section level2">
<h2 class="hasAnchor">
<a href="#why-use-one" class="anchor"></a>Why use one?</h2>
<p>Many APIs have a limit in the number of queries you can make in a given amount of time. Using an API key, because it identifies you, lets you go over this limit so the server knows it is not under a <a href="https://en.wikipedia.org/wiki/Denial-of-service_attack">Denial of Service (DoS) attack</a>. SHERPA/RoMEO has a limit of 500 queries per day without an API key. Registering for an API key lets you exceed this limit.</p>
</div>
<div id="registering-for-an-api-key-for-sherparomeo" class="section level2">
<h2 class="hasAnchor">
<a href="#registering-for-an-api-key-for-sherparomeo" class="anchor"></a>Registering for an API key for SHERPA/RoMEO</h2>
<p>You can register a free API key at <a href="http://www.sherpa.ac.uk/romeo/apiregistry.php" class="uri">http://www.sherpa.ac.uk/romeo/apiregistry.php</a> You have to provide your name, your job title as well as a valid email address to register for an API key.</p>
<p>It is considered good practice to register one API key per project (e.g. software or research project), in order to avoid making too many queries to the API. Do fill out the description of your application to help the people who made SHERPA/RoMEO data freely available make statistics.</p>
</div>
<div id="how-to-set-up-your-api-key-in-rromeo" class="section level2">
<h2 class="hasAnchor">
<a href="#how-to-set-up-your-api-key-in-rromeo" class="anchor"></a>How to set up your API key in <code>rromeo</code>
</h2>
<p>Now that you have registered for an API key, you can use it in <code>rromeo</code>. There are several ways to set up your API key in <code>rromeo</code>.</p>
<div id="using-sys-setenv-during-an-interactive-session" class="section level3">
<h3 class="hasAnchor">
<a href="#using-sys-setenv-during-an-interactive-session" class="anchor"></a>Using <code>Sys.setenv()</code> during an interactive session</h3>
<p>One way to set up your API key without using the <code>key</code> argument is to use <strong>environment variables</strong>. Environment variables are system or user-defined variables that are used to store information during your R session.</p>
<p><code>rromeo</code> searches the environment variable <code>SHERPAROMEO_KEY</code> to check if an API key has been defined. You can access it using the function <code><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv()</a></code> with the name of the variable as as a string:</p>
<pre><code><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv("SHERPAROMEO_KEY")</a></code></pre>
<p>If none has been defined it should return <code>""</code>. You can then set the environment variable using the function <code><a href="https://rdrr.io/r/base/Sys.setenv.html">Sys.setenv()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html">Sys.setenv</a></span><span class="op">(</span>SHERPAROMEO_KEY <span class="op">=</span> <span class="st">"Iq83AIL5bss"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span><span class="op">(</span><span class="st">"SHERPAROMEO_KEY"</span><span class="op">)</span>
<span class="co">#&gt; [1] "Iq83AIL5bss"</span></code></pre></div>
<p>It is set up for the rest of your R session and <code>rromeo</code> will automatically use it when you call the different functions. You can also use the <code><a href="../reference/check_key.html">check_key()</a></code> function that should give the same result if your key is well set-up:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://docs.ropensci.org/rromeo/">"rromeo"</a></span><span class="op">)</span>
<span class="fu"><a href="../reference/check_key.html">check_key</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "Iq83AIL5bss"</span></code></pre></div>
</div>
<div id="using-the-dedicated-function-rr_auth" class="section level3">
<h3 class="hasAnchor">
<a href="#using-the-dedicated-function-rr_auth" class="anchor"></a>Using the dedicated function <code>rr_auth()</code>
</h3>
<p><code>rromeo</code> provides the function <code><a href="../reference/rr_auth.html">rr_auth()</a></code> that creates a well named environmental variable that can be used in the rest of your session:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/rr_auth.html">rr_auth</a></span><span class="op">(</span><span class="st">"Iq83AIL5bs2"</span><span class="op">)</span>
<span class="fu"><a href="../reference/check_key.html">check_key</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "Iq83AIL5bs2"</span></code></pre></div>
<p>This works so that you don’t have to specify the name of the environmental variable by hand. Under the hood <code><a href="../reference/rr_auth.html">rr_auth()</a></code> uses the same mechanism as explained in the above mentioned section.</p>
</div>
<div id="setting-up-your-api-key-in-an--rprofile-file" class="section level3">
<h3 class="hasAnchor">
<a href="#setting-up-your-api-key-in-an--rprofile-file" class="anchor"></a>Setting up your API key in an <code>.Rprofile</code> file</h3>
<p>Every time R starts it looks for <code>.Rprofile</code> files in different locations:</p>
<ul>
<li>
<code>R_HOME</code> the directory in which R is installed,</li>
<li>
<code>HOME</code> the user’s home directory,</li>
<li>R’s current working directory.</li>
</ul>
<p>R only loads one <code>.Rprofile</code> file per session and thus an <code>.Rprofile</code> file at the project-level overrides files in other locations.</p>
<p>The <code>.Rprofile</code> file is an R script that is launch each time R starts. Put it at the root of your project and type the following:</p>
<pre><code>SHERPAROMEO_KEY = "Iq83AIL5bss"</code></pre>
<p>You can then reload your session and check that <code>rromeo</code> managed to get your key by using the <code><a href="../reference/check_key.html">check_key()</a></code> function:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/check_key.html">check_key</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "Iq83AIL5bs2"</span></code></pre></div>
<p>Now <code>rromeo</code> can use your SHERPA/RoMEO API key! See the <a href="rromeo.html">getting started vignette</a> for usage of <code>rromeo</code> functions.</p>
</div>
<div id="setting-up-your-api-key-in-an--renviron-file" class="section level3">
<h3 class="hasAnchor">
<a href="#setting-up-your-api-key-in-an--renviron-file" class="anchor"></a>Setting up your API key in an <code>.Renviron</code> file</h3>
<p><code>.Renviron</code> file follow the same loading rules as <code>.Rprofile</code> files, the only difference is that it is is a file whose only purpose is to store environment variables. To use your API key in an <code>.Renviron</code> you have to type the following (note the absence of quotes):</p>
<pre><code>SHERPAROMEO_KEY=Iq83AIL5bss
</code></pre>
<p>You can then check that your key has been found using <code><a href="../reference/check_key.html">check_key()</a></code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/check_key.html">check_key</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "Iq83AIL5bs2"</span></code></pre></div>
<p>Now <code>rromeo</code> can use your SHERPA/RoMEO API key! See the <a href="rromeo.html">getting started vignette</a> for usage of <code>rromeo</code> functions.</p>
</div>
<div id="using-the-key-function-argument-not-recommended" class="section level3">
<h3 class="hasAnchor">
<a href="#using-the-key-function-argument-not-recommended" class="anchor"></a>Using the <code>key</code> function argument (<strong>NOT RECOMMENDED</strong>)</h3>
<p><strong>NOTE:</strong> This method is <strong>NOT RECOMMENDED</strong> but still available for testing and development purposes.</p>
<p>All the functions in <code>rromeo</code> that can use an API key have a <code>key</code> argument. To use your API key you have to provide it as a string in the <code>key</code> argument of the functions for example:</p>
<pre><code><a href="../reference/rr_journal_issn.html">rr_journal_issn("1947-6264", key = "YOUR_API_KEY")</a></code></pre>
<p>However, <strong>we do not recommend</strong> this approach as your API key will be available in your R history and in your R scripts. While your API key should stay secret as it grants unlimited access to the server and can be maliciously used in wrong hands.</p>
<p>Furthermore using this method you have to specify it at each function call while the other methods shown above only needs to be set up once.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/ropensci" target="_blank"><div class="icon fab fa-github"></div></a>
                        <a href="http://github.com/ropenscilabs" target="_blank"><div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/ropensci" target="_blank"><div class="icon fab fa-twitter"></div></a>
                        <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review">Software Review Process</a></li>
                            <li><a href="https://ropensci.org/about#team">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate">Donate</a></li>
                            <li><a href="https://ropensci.org/contact">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/">Documentation</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                        <a href="http://numfocus.org" target="_blank"></a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '799829e946e1f0f9cd5b5a782c6316b9',
    indexName: 'ropensci-rromeo',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
